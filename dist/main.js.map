{"mappings":"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","sources":["src/js/main.js","src/js/global.js","src/js/index.js","src/js/styles.js","src/js/utils.js","src/js/constants.js","src/js/contextmenu.js","src/js/components.js","src/js/handlers.js","src/js/annotationAPI.js","src/js/alert.js","src/js/commentAPI.js","src/js/auth.js","src/js/render.js","src/js/tokenAPI.js"],"sourcesContent":["import * as global from \"./global\"\r\nimport * as index from \"./index\"\r\nimport * as constants from \"./constants\"\r\nimport * as styles from \"./styles\"\r\nimport * as contextMenu from \"./contextmenu\"\r\nimport * as components from \"./components\"\r\nimport * as renderers from \"./render\"\r\nimport * as handlers from \"./handlers\"\r\nimport * as annotationsAPI from \"./annotationAPI\"\r\nimport * as commentAPI from \"./commentAPI\"\r\nimport * as tokenAPI from \"./tokenAPI\"\r\nimport * as utils from \"./utils\"\r\nimport * as alert from \"./alert\"","export var remarkGlobalData = {\r\n    \"website_id\": \"\",\r\n    \"api_key\": \"\",\r\n    \"annotations\": [],\r\n    \"theme\": \"light\",\r\n    \"currentXPath\": \"\",\r\n}","import STYLES from \"./styles\";\r\nimport { highlightElements, removeHTMLElement, removeAllExistingModals, getNodeXpath } from \"./utils\";\r\nimport { overrideContextMenu } from \"./contextmenu\"\r\n\r\nimport { remarkGlobalData } from \"./global\";\r\nimport { VALID_HTML_ELEMENTS } from \"./constants\";\r\nimport { renderLoginModal } from \"./render\"\r\nimport { getAnnotationByWebsiteID } from \"./annotationAPI\";\r\nimport { verifyToken } from \"./tokenAPI\";\r\nimport { isLoggedIn, isAdmin  } from \"./auth\";\r\n\r\nimport { showAlert } from \"./alert\";\r\nimport * as handlers from \"./handlers\"\r\n\r\n\r\nwindow.addEventListener(\"load\", (e) => {\r\n    e.preventDefault();\r\n    remark_init();\r\n})\r\n\r\n\r\nfunction remark_init() {\r\n    const body = document.getElementsByTagName('body')[0];\r\n    const remark_started = localStorage.getItem(\"remark_started\");\r\n\r\n    // 1. Register the styles and scripts (for icons)\r\n    registerStyles();\r\n    registerScripts();\r\n\r\n    // 2. Add the START button\r\n    const remark_markup =\r\n        `\r\n        <div class=\"remark_init_container\">\r\n            <span class=\"remark_init_text\">REMARK</span>\r\n            <button type=\"button\" class=\"remark_standard_button remark_init_button\" id=\"remark_start\">Start Annotation</button>\r\n        </div>\r\n    `\r\n    body.insertAdjacentHTML(\"afterbegin\", remark_markup);\r\n\r\n    document.getElementById('remark_start').addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n\r\n        // 1. Check if user is logged in and verify his/her authority \r\n\r\n        if (remark_started) {\r\n            const loginStatus = isLoggedIn();\r\n            if (!loginStatus) {\r\n                document.querySelector(\".remark_init_container\").classList.add(\"remark_init_container_resize\");\r\n                renderLoginModal();\r\n            } else {\r\n                console.log(\"REMARK STARTED\");\r\n                startAnnotationProcess();\r\n                document.getElementById('remark_start').textContent = \"Stop Annotation\";\r\n                repositionStart();\r\n            }\r\n        } else {\r\n            document.querySelector(\".remark_init_container\").classList.remove(\"remark_init_container_resize\");\r\n            document.getElementById('remark_start').textContent = \"Start Annotation\";\r\n            localStorage.setItem(\"remark_started\", true);\r\n        }\r\n\r\n\r\n    });\r\n\r\n}\r\n\r\nfunction remark_destroy() {\r\n    return;\r\n}\r\n\r\nfunction registerStyles() {\r\n    const styleElement = document.createElement(\"style\");\r\n    styleElement.type = \"text/css\";\r\n    if (styleElement.styleSheet) {\r\n        styleElement.styleSheet.cssText = STYLES;\r\n    } else {\r\n        styleElement.appendChild(document.createTextNode(STYLES));\r\n    }\r\n    document.getElementsByTagName(\"head\")[0].appendChild(styleElement);\r\n}\r\n\r\nfunction registerScripts() {\r\n    const icons = document.createElement(\"script\");\r\n    icons.setAttribute(\"src\", \"https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js\");\r\n    document.head.appendChild(icons);\r\n}\r\n\r\nfunction repositionStart() {\r\n    const ele = document.querySelector(\".remark_init_container\");\r\n    ele.classList.add(\"remark_init_container_resize\");\r\n}\r\n\r\nasync function startAnnotationProcess() {\r\n    const remarkScriptTag = document.getElementById(\"remark_annotation_script\");\r\n\r\n    // 1. Check for API_KEY\r\n    const api_key = remarkScriptTag.dataset.api_key;\r\n\r\n    if ((!api_key) || (api_key == \"\")) {\r\n        showAlert(\"ERROR\", \"Invalid API KEY\", 1);\r\n        return;\r\n    } else {\r\n        remarkGlobalData[\"api_key\"] = api_key;\r\n    }\r\n\r\n    // 2. Verify API_KEY\r\n    const token_status = await verifyToken(api_key);\r\n    if (token_status.status != 200) {\r\n        showAlert(\"ERROR\", \"Error in token verification\");\r\n        return;\r\n    }\r\n\r\n    // 3. Load and render existing annotations if any\r\n    website_id = remarkScriptTag.dataset.website_id\r\n    if ((!website_id) || (website_id == \"\")) {\r\n        showAlert(\"ERROR\", \"Invalid website ID\");\r\n    } else {\r\n        remarkGlobalData[\"website_id\"] = website_id; \r\n    }\r\n\r\n    const annotations = await getAnnotationByWebsiteID(website_id, api_key);\r\n\r\n    if (annotations.length > 0) {\r\n        remarkGlobalData[\"annotations\"] = annotations;\r\n        renderExistingAnnotations();\r\n    }\r\n\r\n    // 4. (ADMIN ONLY) Start the highlight process\r\n    if (isAdmin()) {\r\n        highlightElements();\r\n    }\r\n\r\n    // 5. (ADMIN ONLY) Handle contextmenu event for highlighted element\r\n\r\n    document.addEventListener(\"contextmenu\", (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const node = e.target;\r\n        const className = node.className;\r\n        const tag = node.tagName;\r\n        const textContent = node.textContent;\r\n        const id = node.id;\r\n\r\n        const contextMenu = document.getElementById(\"remark_context_menu\");\r\n\r\n        if (contextMenu) {\r\n            removeHTMLElement(contextMenu);\r\n        }\r\n\r\n        if (className) {\r\n            if (className.includes(\"remark_\")) {\r\n                return;\r\n            }\r\n        }\r\n        if (className.includes(\"highlight_element_light\")) {\r\n            if (VALID_HTML_ELEMENTS.includes(tag)) {\r\n\r\n                let xpath = getNodeXpath(node);\r\n                xpath = `//${xpath.toLowerCase()}`\r\n\r\n                const contextMenuData = {\r\n                    node,\r\n                    xpath,\r\n                    tag,\r\n                    className,\r\n                    textContent,\r\n                    id,\r\n                    \"annotation_present\": false\r\n                }\r\n\r\n                overrideContextMenu(e, contextMenuData);\r\n            }\r\n\r\n        } else if (className.includes(\"highlight_element_strong\")) {\r\n            if (VALID_HTML_ELEMENTS.includes(tag)) {\r\n\r\n                let xpath = getNodeXpath(node);\r\n                xpath = `//${xpath.toLowerCase()}`\r\n\r\n                const contextMenuData = {\r\n                    node,\r\n                    xpath,\r\n                    tag,\r\n                    className,\r\n                    \"annotation_present\": true\r\n                }\r\n\r\n                overrideContextMenu(e, contextMenuData);\r\n            }\r\n        }\r\n    })\r\n\r\n\r\n    document.addEventListener(\"keydown\", (e) => {\r\n        if (e.key == \"Escape\") {\r\n            removeAllExistingModals();\r\n        }\r\n    })\r\n\r\n\r\n}","export default STYLES = `\r\n\r\n    :root {\r\n        --remark-color-primary: #0d6efd;\r\n        --remark-color-primary-lighter: #5498ff;\r\n        --remark-color-primary-darker: #0b5dd7;\r\n\r\n        --remark-color-success: #5ec576;\r\n        --remark-color-success-darker: #399e66;\r\n\r\n        --remark-color-warning: #ffcb03;\r\n        --remark-color-warning-darker: #eaac00;\r\n        \r\n        --remark-color-danger: #ff585f;\r\n        --remark-color-danger-darker: #fd424b;\r\n\r\n        --remark-color-grey-light-3: #f2f2f2;\r\n        --remark-color-grey-light-2: #d0d0d0;\r\n        --remark-color-grey-light-1: #9c9c9c;\r\n        --remark-color-grey: #808080;\r\n        --remark-color-grey-dark-1: #6c6c6c;\r\n        --remark-color-grey-dark-2: #444444;\r\n        --remark-color-black: #000000;\r\n        --remark-color-white: #FFFFFF;\r\n        --remark-color-danger-opacity: #ff58602d;\r\n        --remark-color-danger-opacity: #ff58602d;\r\n\r\n        --gradient-primary: linear-gradient(to top left, #39b385, #9be15d);\r\n        --gradient-secondary: linear-gradient(to top left, #ffb003, #ffcb03);\r\n\r\n        --remark-default-box-shadow-light: rgba(120, 123, 127, 0.2) 0px 8px 16px;\r\n        --remark-default-box-shadow: rgba(75, 77, 80, 0.2) 0px 8px 24px;\r\n\r\n        --remark-default-sanserif-font: Arial, Helvetica, sans-serif;\r\n    }\r\n\r\n    ion-icon {\r\n        font-size: 2rem;\r\n        color: var(--remark-color-grey);\r\n        transition: all 0.2s cubic-bezier(0.165, 0.84, 0.44, 1);\r\n        cursor: pointer;\r\n    }\r\n\r\n    ion-icon:hover {\r\n        transform: scale(1.1);\r\n    }\r\n\r\n    ion-icon:active {\r\n        transform: scale(1.0);\r\n    }\r\n\r\n    ion-icon[name=\"open-outline\"] {\r\n        color: var(--remark-color-grey);\r\n    }\r\n\r\n    ion-icon[name=\"create-outline\"] {\r\n        font-size: 1.6rem;\r\n    }\r\n\r\n    ion-icon[name=\"create-outline\"]:hover {\r\n        color: var(--remark-color-primary);\r\n    }\r\n\r\n    ion-icon[name=\"trash-outline\"] {\r\n        font-size: 1.6rem;\r\n    }\r\n\r\n    ion-icon[name=\"trash-outline\"]:hover {\r\n        color: var(--remark-color-danger);\r\n    }\r\n\r\n    ion-icon[name=\"ellipsis-horizontal-outline\"] {\r\n        font-size: 1.6rem;\r\n    }\r\n\r\n    ion-icon[name=\"paper-plane-outline\"] {\r\n        font-size: 2.8rem;\r\n        rotate: 45deg;\r\n    }\r\n\r\n    ion-icon[name=\"paper-plane-outline\"]:hover {\r\n        font-size: 3.2rem;\r\n        rotate: 45deg;\r\n        color: var(--remark-color-primary);\r\n    }\r\n\r\n    ion-icon[name=\"arrow-up-outline\"] {\r\n        font-size: 1.6rem;\r\n        margin: 0rem 0rem 0rem 0.5rem;\r\n    }\r\n\r\n    ion-icon[name=\"arrow-up-outline\"]:hover {\r\n        font-size: 1.8rem;\r\n        color: var(--remark-color-success);\r\n    }\r\n\r\n    ion-icon[name=\"arrow-down-outline\"] {\r\n        font-size: 1.6rem;\r\n        margin: 0rem 0rem 0rem 0.5rem;\r\n    }\r\n\r\n    ion-icon[name=\"arrow-down-outline\"]:hover {\r\n        font-size: 1.8rem;\r\n        color: var(--remark-color-danger);\r\n    }\r\n\r\n    .hide {\r\n        display: none;\r\n        visibility: hidden;\r\n        opacity: 0;\r\n        pointer-events: none;\r\n    }\r\n\r\n    .loginSignupSwitch {\r\n        color: var(--remark-color-primary);\r\n        font-weight: 700;\r\n        transition: all 0.2s cubic-bezier(0.165, 0.84, 0.44, 1);\r\n        cursor: pointer;\r\n        font-size: 1.1rem;\r\n    }\r\n\r\n    .loginSignupSwitch:hover {\r\n        font-size: 1.2rem;\r\n    }\r\n\r\n    .loginSignupSwitch:active {\r\n        font-size: 1.1rem;\r\n    }\r\n\r\n    .remark_init_container {\r\n        width: 40rem;\r\n        background: var(--remark-color-white);\r\n        padding: 1rem;\r\n        height: 8rem;\r\n        border-radius: 1.6rem;\r\n        position: fixed;\r\n        z-index: 10000000;\r\n        bottom: 3rem;\r\n        left: 36%;\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: space-around;\r\n        align-content: center;\r\n        box-shadow: var(--remark-default-box-shadow);\r\n        transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);\r\n    }\r\n\r\n    .remark_init_container_resize {\r\n        left: 4%;\r\n        width: 30rem;\r\n    }\r\n\r\n    .remark_init_button {\r\n        width: 60% !important;\r\n        font-size: 1.6rem !important;\r\n        padding: 1rem !important;\r\n        background-color: var(--remark-color-primary) !important;\r\n        color: var(--remark-color-white);\r\n        height: 5rem !important;\r\n        margin: 0.5rem 0rem 0rem 1rem !important;\r\n    }\r\n\r\n    .remark_init_text {\r\n        width: 30%;\r\n        font-size: 1.6rem;\r\n        font-weight: 500;\r\n        color: var(--remark-color-grey-dark-1);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n\r\n    /*\r\n        ********************* MODAL *********************\r\n    */\r\n\r\n    .remark_error_container {\r\n        width: 40rem;\r\n        background: var(--remark-color-white);\r\n        padding: 3.6rem;\r\n        min-height: 6rem;\r\n        border-radius: 1.6rem;\r\n        position: fixed;\r\n        z-index: 100000000;\r\n        bottom: 3rem;\r\n        left: 36%;\r\n        display: flex;\r\n        box-shadow: var(--remark-default-box-shadow);\r\n        font-size: 1.4rem;\r\n        font-weight: 700;\r\n        color: var(--remark-color-black);\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-content: center;\r\n        transition: all 0.2s cubic-bezier(0.165, 0.84, 0.44, 1);\r\n        line-height: 2rem;\r\n    }\r\n\r\n    .remark_error_container_error {\r\n        background: var(--remark-color-danger-darker);\r\n        color: var(--remark-color-white) !important;\r\n    }\r\n\r\n    .remark_error_container_success {\r\n        background: var(--remark-color-success-darker);\r\n        color: var(--remark-color-white) !important;\r\n    }\r\n\r\n    .remark_error_container_intimation {\r\n        background: var(--remark-color-warning-darker);\r\n        color: var(--remark-color-black) !important;\r\n    }\r\n\r\n    .remark_error_text {\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: center;\r\n        align-content: center;\r\n        color: inherit;\r\n        width: 100%;\r\n    }\r\n\r\n    remark_error_container_error {\r\n        background: var(--remark-color-danger);\r\n    }\r\n\r\n    remark_error_container_intimation {\r\n        background: var(--remark-color-warning);\r\n    }\r\n\r\n    remark_error_container_success {\r\n        background: var(--remark-color-success);\r\n    }\r\n\r\n    .remark_standard_modal {\r\n        position: fixed;\r\n        top: 50%;\r\n        left: 49.8%;\r\n        transform: translate(-50%, -50%);\r\n        width: 40rem;\r\n        background-color: var(--remark-color-white);\r\n        border-radius: 1rem;\r\n        padding: 1rem;\r\n        box-shadow: var(--remark-default-box-shadow);\r\n        z-index: 1000000;\r\n        transition: all 0.5s;\r\n        height: auto;\r\n    }\r\n\r\n    .remark_standard_modal_header {\r\n        padding: 1rem;\r\n        height: 6rem;\r\n        margin: -1rem -1rem 0rem -1rem;\r\n        width: auto;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        border-bottom: 1px solid var(--remark-color-grey-light-1);\r\n        border-radius: 1rem 1rem 0rem 0rem;\r\n    }\r\n\r\n    .remark_standard_modal_actions {\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        width: 10%;\r\n    }\r\n\r\n    .remark_standard_modal_title {\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: start;\r\n        width: 70%;\r\n        word-wrap: break-word;\r\n        padding: 1rem;\r\n        margin: 1rem 0rem 1rem 2rem;\r\n        font-size: 1.6rem;\r\n    }\r\n\r\n    .remark_standard_modal_close_btn {\r\n        margin: 0.4rem 0rem 0rem 0rem;\r\n    }\r\n\r\n    .remark_standard_modal_body {\r\n        padding: 2rem;\r\n        font-size: 1.2rem;\r\n    }\r\n\r\n    .remark_standard_sidebar {\r\n        position: fixed;\r\n        top: 0;\r\n        right: 0;\r\n        width: 52rem;\r\n        background-color: var(--remark-color-white);\r\n        border-radius: 1rem;\r\n        padding: 1rem;\r\n        box-shadow: var(--remark-default-box-shadow);\r\n        z-index: 1000;\r\n        height: 72rem;\r\n        background: var(--remark-color-white);\r\n        padding: 1rem;\r\n        animation: remark_sidebar_animation 0.6s;\r\n    }\r\n\r\n    @keyframes remark_sidebar_animation {\r\n        from {\r\n            width: 0px;\r\n        }\r\n        to {\r\n            width: 52rem;\r\n        }\r\n    }\r\n\r\n    .remark_standard_sidebar_body {\r\n        height: 80%;\r\n        overflow-x: hidden;\r\n        overflow-y: scroll;\r\n        scrollbar-width: none;\r\n    }\r\n\r\n\r\n    /* \r\n        ********************* ANNOTATIONS *********************\r\n    */\r\n\r\n    .resolve_btn {\r\n        background-color: var(--remark-color-primary);\r\n        font-size: 1.6rem;\r\n        font-family: inherit;\r\n        font-weight: 500;\r\n        border: none;\r\n        padding: 1.25rem 4.5rem;\r\n        border-radius: 10rem;\r\n        cursor: pointer;\r\n        transition: all 0.3s;\r\n        border-radius: 1rem;\r\n        width: 10rem;\r\n    }\r\n\r\n    .resolve_btn:hover {\r\n        background-color: var(--remark-color-primary-darker);\r\n    }\r\n\r\n    .remark_annotation {\r\n        margin: 1.6rem 0rem 2rem 0rem;\r\n        height: auto;\r\n        padding: 1rem;\r\n        border: 1px solid var(--remark-color-grey-light-1);\r\n        border-radius: 1rem;\r\n        font-family: \"arial\";\r\n    }\r\n\r\n    .remark_annotation_header {\r\n        padding: 1rem;\r\n        height: 5%;\r\n        min-height: 2rem;\r\n        max-height: 4rem;\r\n        width: auto;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n    }\r\n\r\n    .remark_comment_actions {\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        width: 20%;\r\n    }\r\n\r\n    .remark_annotation_vote_option {\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .remark_annotation_reply {\r\n        margin: 0rem 0rem 0rem 5%;\r\n    }\r\n\r\n    .annotation_actions_options {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        width: 1rem;\r\n        padding: 1rem;\r\n        height: 4rem;\r\n        box-shadow: var(--remark-default-box-shadow);\r\n        border-radius: 1rem;\r\n        position: relative;\r\n        top: 15%;\r\n    }\r\n\r\n    .remark_annotation_user_profile {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        height: 40%;\r\n        width: 100%;\r\n    }\r\n\r\n    .remark_annotation_user_image {\r\n        width: 2.4rem;\r\n        height: 2.4rem;\r\n        border-radius: 2rem;\r\n    }\r\n\r\n    .remark_annotation_user_details {\r\n        width: 86%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: start;\r\n        height: 100%;\r\n        color: var(--remark-color-grey);\r\n    }\r\n\r\n    .remark_annotation_user_username {\r\n        font-size: 1.3rem;\r\n        font-weight: 700;\r\n        margin: 0rem 0rem 0.4rem 0rem;\r\n    }\r\n\r\n    .remark_annotation_user_last_modified {\r\n        font-weight: normal;\r\n        font-size: 1rem;\r\n        margin: -0.7rem 0rem 0rem 0rem;\r\n    }\r\n\r\n    .remark_annotation_user_message {\r\n        width: 97%;\r\n        margin: 1rem 0rem 1rem 0rem;\r\n        color: var(--remark-color-grey);\r\n        padding: 0rem 0rem 0rem 1rem;\r\n        font-family: inherit;\r\n        font-size: 1.3rem;\r\n        line-height: 1.8rem;\r\n    }\r\n\r\n    .remark_annotation_vote {\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        width: 24%;\r\n        margin: 2rem 1rem 1rem 1rem;\r\n    }\r\n\r\n\r\n    /* \r\n        ********************* INPUT FIELDS *********************\r\n    */\r\n\r\n    textarea {\r\n        padding: 2rem;\r\n        font-family: var(--remark-default-sanserif-font);\r\n        -webkit-appearance: none;\r\n        -moz-appearance: none;\r\n        height: 6rem;\r\n        width: 90%;\r\n        border-radius: 1.4rem;\r\n        background-color: var(--remark-color-white);\r\n        resize: none;\r\n        overflow-y: scroll;\r\n        outline: 0px !important;\r\n        scrollbar-width: none;\r\n        margin: 1rem;\r\n        transition: transform 0.2s ease-in;\r\n        border: 1px solid var(--remark-color-grey-light-1);\r\n    }\r\n\r\n    textarea:hover {\r\n        border: 0.5px solid var(--remark-color-grey-dark-2);\r\n    }\r\n\r\n    textarea:focus {\r\n        border: 0.5px solid var(--remark-color-primary);\r\n    }\r\n\r\n    .remark_annotation_user_input {\r\n        position: absolute;\r\n        bottom: 1rem;\r\n        margin: 2rem 0rem 0rem 0rem;\r\n        width: 90%;\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: space-evenly;\r\n        align-items: center;\r\n    }\r\n\r\n    .signup_container {\r\n        height: auto;\r\n        width: 20rem;\r\n        background-color: var(--remark-color-white);\r\n        box-shadow: var(--remark-default-box-shadow-light);\r\n        border-radius: 1rem;\r\n        padding: 2rem;\r\n    }\r\n\r\n    #createCommentForm {\r\n        width: 100%;\r\n    }\r\n\r\n    .remark_form_fields {\r\n        margin: 2.6rem 0rem 0rem 0rem;\r\n    }\r\n\r\n    .remark_form_input {\r\n        padding: 1rem 2rem 1.2rem 1rem;\r\n        font-family: var(--remark-default-sanserif-font);\r\n        -webkit-appearance: none;\r\n        -moz-appearance: none;\r\n        height: 4rem;\r\n        width: 100%;\r\n        border-radius: 0.6rem;\r\n        background-color: var(--remark-color-white);\r\n        border: none;\r\n        outline: 0px !important;\r\n        margin: 0.4rem 0rem 1rem 0rem;\r\n        transition: border 0.2s ease-in;\r\n        border: 0.5px solid var(--remark-color-grey);\r\n        font-size: 1.2rem;\r\n        color: var(--remark-color-grey);\r\n    }\r\n\r\n    .remark_form_input:focus {\r\n        border: 0.5px solid var(--remark-color-primary);\r\n    }\r\n\r\n    .remark_form_label {\r\n        font-family: var(--remark-default-sanserif-font);\r\n        font-size: 1.2rem;\r\n        color: var(--remark-color-grey);\r\n    }\r\n\r\n    .remark_standard_button {\r\n        background-color: var(--remark-color-primary);\r\n        font-size: 1.6rem;\r\n        color: var(--remark-color-white);\r\n        font-family: inherit;\r\n        font-weight: 500;\r\n        border: none;\r\n        padding: 1.25rem 4.5rem;\r\n        border-radius: 1.2rem;\r\n        cursor: pointer;\r\n        transition: all 0.1s;\r\n        margin: 3rem 0rem 2rem 0rem;\r\n        width: 100%;\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n\r\n    .remark_standard_button:hover {\r\n        background-color: var(--remark-color-primary) !important;\r\n        transform: scale(1.04);\r\n    }\r\n\r\n    .remark_standard_button:active {\r\n        transform: scale(1.0) !important;\r\n    }\r\n\r\n    .remark_standard_button:focus {\r\n        background-color: var(--remark-color-primary) !important\r\n        transform: scale(1.0);\r\n    }\r\n\r\n    .remark_delete_button {\r\n        background-color: var(--remark-color-danger);\r\n        color: var(--remark-color-white);\r\n    }\r\n\r\n    .remark_delete_button:focus {\r\n        background-color: var(--remark-color-danger) !important;\r\n        color: var(--remark-color-white) !important;\r\n    }\r\n\r\n    .remark_resolve_button {\r\n        margin: 0rem 0rem 0rem -8rem;\r\n        height: 3rem;\r\n        border-radius: 1.1rem;\r\n        font-size: 1.3rem;\r\n        color: var(--remark-color-white);\r\n    }\r\n    \r\n    .remark_resolve_button {\r\n        color: var(--remark-color-white) !important;\r\n    }\r\n\r\n    .remark_unresolve_button {\r\n        background-color: var(--remark-color-danger);\r\n        color: var(--remark-color-white);\r\n    }\r\n\r\n    .remark_unresolve_button:focus {\r\n        background-color: var(--remark-color-danger);\r\n        color: var(--remark-color-white);\r\n    }\r\n\r\n    .error_modal {\r\n        font-family: var(--remark-default-sanserif-font);\r\n        font-size: 1rem;\r\n        line-height: 1.4rem;\r\n        height: auto;\r\n        width: 20rem;\r\n        box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 5px 0px, rgba(0, 0, 0, 0.1) 0px 0px 1px 0px;\r\n        border-radius: 0.4rem;\r\n        padding: 0.8rem 1.4rem 1rem 1.6rem;\r\n        color: var(--remark-color-white);\r\n    }\r\n\r\n    .highlight_element_light {\r\n        outline: dashed 2px var(--remark-color-grey);\r\n        border-radius: 0.4rem;\r\n        padding: 0.4rem;\r\n    }\r\n\r\n    .highlight_element_strong {\r\n        outline: 2.8px solid var(--remark-color-primary);\r\n        border-radius: 0.4rem;\r\n        padding: 0.4rem;\r\n        margin: 0.8rem;\r\n    }\r\n\r\n    .remark_contextmenu_wrapper {\r\n        visibility: hidden;\r\n        position: fixed;\r\n        width: 22rem;\r\n        height: auto;\r\n        border-radius: 1rem;\r\n        background: var(--remark-color-white);\r\n        box-shadow: 0 12px 35px rgba(0, 0, 0, 0.1);\r\n        font-family: var(--remark-default-sanserif-font);\r\n        padding: 1rem;\r\n        z-index: 100000;\r\n    }\r\n\r\n    .remark_contextmenu_content {\r\n        height: 100%;\r\n    }\r\n\r\n    .remark_contextmenu_menu_list {\r\n        padding: 1rem;\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-evenly;\r\n    }\r\n\r\n    .remark_item {\r\n        list-style: none;\r\n        font-size: 1rem;\r\n        height: 4.2rem;\r\n        display: flex;\r\n        width: 98%;\r\n        cursor: pointer;\r\n        align-items: center;\r\n        border-radius: 0.7rem;\r\n        padding: 0 0.3125rem 0 0.625rem;\r\n        transition: background, transform 0.1s cubic-bezier(0.165, 0.84, 0.44, 1);\r\n        margin: 0.4rem 0rem 0.4rem 0rem;\r\n    }\r\n\r\n    .remark_contextmenu_icon {\r\n        font-size: 2rem !important;\r\n        color: var(--remark-color-grey) !important;\r\n    }\r\n\r\n    .remark_contextmenu_content .remark_item:hover {\r\n        background: #f2f2f2;\r\n        transform: scale(1.05);\r\n    }\r\n\r\n    .remark_contextmenu_content .remark_item:active {\r\n        background: #f2f2f2;\r\n        transform: scale(1.0);\r\n    }\r\n\r\n    .remark_context_menu_item_name {\r\n        margin: 1.2rem 0rem 1rem 1.2rem;\r\n        font-size: 1.4rem;\r\n        color: var(--remark-color-grey);\r\n    }\r\n\r\n    `","import { VALID_HTML_ELEMENTS } from \"./constants\";\r\n\r\nexport function validateForm(data) {\r\n    if (data[\"authority\"] == \"admin\" || data[\"authority\"] == \"user\") {\r\n        if (data[\"username\"] != \"\") {\r\n            var re = /^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\r\n            if (re.test(data[\"password\"])) {\r\n                return \"OK\";\r\n            }\r\n            return \"Invalid Password Format\";\r\n        }\r\n        return \"Empty Field Present\"\r\n    }\r\n    return \"Invalid Authority\"\r\n}\r\n\r\nexport function removeHTMLElement(ele) {\r\n    ele.parentElement.removeChild(ele);\r\n    return;\r\n}\r\n\r\nexport function highlightElements() {\r\n    document.addEventListener(\"mouseover\", (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const className = e.target.className;\r\n        if (className.includes(\"remark_\") || className.includes(\"highlight_element_strong\")) {\r\n            return;\r\n        }\r\n        const tag = e.target.tagName;\r\n        if (VALID_HTML_ELEMENTS.includes(tag)) {\r\n            const targetHTMLElement = e.target;\r\n            targetHTMLElement.classList.toggle(\"highlight_element_light\");\r\n        }\r\n    });\r\n    document.addEventListener(\"mouseout\", (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const className = e.target.className;\r\n        if (className.includes(\"remark_\") || className.includes(\"highlight_element_strong\")) {\r\n            return;\r\n        }\r\n        const tag = e.target.tagName;\r\n        if (VALID_HTML_ELEMENTS.includes(tag)) {\r\n            const targetHTMLElement = e.target;\r\n            targetHTMLElement.classList.toggle(\"highlight_element_light\");\r\n        }\r\n    });\r\n\r\n}\r\n\r\nexport function generateRandomID(len) {\r\n    var result = '';\r\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var charactersLength = characters.length;\r\n    for (var i = 0; i < len; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() *\r\n            charactersLength));\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function isAlphaNumeric(s) {\r\n    var code, i, len;\r\n\r\n    for (i = 0, len = s.length; i < len; i++) {\r\n        code = s.charCodeAt(i);\r\n        if (!(code > 47 && code < 58) && // numeric (0-9)\r\n            !(code > 64 && code < 91) && // upper alpha (A-Z)\r\n            !(code > 96 && code < 123)) { // lower alpha (a-z)\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\n\r\nexport function getNodeXpath(ele) {\r\n    if (ele.id !== '')\r\n        return 'id(\"' + ele.id + '\")';\r\n    if (ele === document.body)\r\n        return ele.tagName;\r\n\r\n    var ix = 0;\r\n    var siblings = ele.parentNode.childNodes;\r\n    for (var i = 0; i < siblings.length; i++) {\r\n        var sibling = siblings[i];\r\n        if (sibling === ele)\r\n            return getNodeXpath(ele.parentNode) + '/' + ele.tagName + '[' + (ix + 1) + ']';\r\n        if (sibling.nodeType === 1 && sibling.tagName === ele.tagName)\r\n            ix++;\r\n    }\r\n}\r\n\r\nexport function getElementByXpath(path) {\r\n    let ele = null;\r\n    try {\r\n        ele = document.evaluate(path, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\r\n    } catch (error) {\r\n        return;\r\n    }\r\n    return ele;\r\n}\r\n\r\nexport function getPageXY(element) {\r\n    var x = 0,\r\n        y = 0;\r\n    while (element) {\r\n        x += element.offsetLeft;\r\n        y += element.offsetTop;\r\n        element = element.offsetParent;\r\n    }\r\n    return [x, y];\r\n}\r\n\r\nexport function checkXPathMatch(node, xpath) {\r\n    const res = getElementByXpath(xpath);\r\n    if (res == node) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport function getElementAfterCheck(node_xpath, html_id, html_tag, html_text_content) {\r\n    const ele_check1 = getElementByXpath(`${node_xpath}`);\r\n    if (ele_check1) {\r\n        return ele_check1;\r\n    } else {\r\n        const ele_check2 = document.getElementById(`${html_id}`)\r\n\r\n        if (ele_check2) {\r\n            return ele_check2;\r\n        } else {\r\n            const html_tags = document.getElementsByTagName(`${html_tag}`);\r\n            let ele_check3;\r\n\r\n            for (let i = 0; i < html_tags.length; i++) {\r\n                curElement = html_tags[i];\r\n                if (curElement.textContent.replace(/\\s/g, \"\") == html_text_content.replace(/\\s/g, \"\")) {\r\n                    ele_check3 = curElement;\r\n                    break;\r\n                }\r\n            }\r\n            if (ele_check3) {\r\n                return ele_check3;\r\n            } else {\r\n                //- LOGIC MUST BE CHANGED\r\n                const ht = html_tag.toLowerCase()\r\n                const html_tags = document.getElementsByTagName(`${ht}`);\r\n                // showAlert(\"INTIMATION\", `${html_text_content} TAG : ${ht}`, 1000)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeAllExistingModals() {\r\n    const create_modal_check = document.getElementById(\"remark_create_annotation_modal\");\r\n\r\n    const edit_modal_check = document.getElementById(\"remark_edit_annotation_modal\");\r\n\r\n    const delete_modal_check = document.getElementById(\"remark_delete_annotation_modal\");\r\n\r\n    const sidebar_check = document.getElementById(\"remark_annotations_sidebar\");\r\n\r\n    const login_modal_check = document.getElementById(\"remark_login_modal\");\r\n\r\n    const signup_modal_check = document.getElementById(\"remark_signup_modal\");\r\n\r\n    const context_menu_check = document.getElementById(\"remark_context_menu\");\r\n\r\n    hideAlert();\r\n\r\n    if (create_modal_check) {\r\n        removeHTMLElement(create_modal_check);\r\n    }\r\n    if (edit_modal_check) {\r\n        removeHTMLElement(edit_modal_check);\r\n    }\r\n    if (delete_modal_check) {\r\n        removeHTMLElement(delete_modal_check);\r\n    }\r\n    if (sidebar_check) {\r\n        removeHTMLElement(sidebar_check);\r\n    }\r\n    if (login_modal_check) {\r\n        removeHTMLElement(login_modal_check);\r\n    }\r\n    if (signup_modal_check) {\r\n        removeHTMLElement(signup_modal_check);\r\n    }\r\n    if (context_menu_check) {\r\n        removeHTMLElement(context_menu_check);\r\n    }\r\n}","export const BASE_API_URL = \"http://127.0.0.1:5000\";\r\n\r\nexport const VALID_HTML_ELEMENTS = [\r\n    \"DIV\", \"SPAN\", \"BUTTON\", \"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\", \"IMG\", \"SVG\", \"NAV\", \"A\", \"TABLE\", \"INPUT\", \"LABEL\", \"FORM\"\r\n]","import { remarkGlobalData } from \"./global\"\r\nimport { CONTEXT_MENU_MARKUP  } from \"./components\"\r\nimport { removeHTMLElement } from \"./utils\"\r\n\r\nimport { renderNewAnnotationModal, renderEditAnnotationModal, renderDeleteAnnotationModal } from \"./render\"\r\n\r\nimport { showAlert } from \"./alert\"\r\nimport { isAdmin } from \"./auth\"\r\n\r\nexport function overrideContextMenu(e, data) {\r\n    const body = document.getElementsByTagName(\"body\")[0];\r\n    console.log(data[\"annotation_present\"]);\r\n    const contextMenuMarkup = CONTEXT_MENU_MARKUP(data[\"annotation_present\"])\r\n\r\n    body.insertAdjacentHTML(\"afterbegin\", contextMenuMarkup);\r\n\r\n    const contextMenu = document.getElementById(\"remark_context_menu\");\r\n\r\n    const posX = e.clientX;\r\n    const posY = e.clientY;\r\n    positionContextMenu(contextMenu, posX, posY);\r\n\r\n    contextMenu.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const option = e.target.dataset.remark_contextmenu_option;\r\n        handleContextMenuOptions(option, data);\r\n        if (contextMenu) {\r\n            setTimeout(() => {\r\n                removeHTMLElement(contextMenu)\r\n            }, 100);\r\n        }\r\n    })\r\n}\r\n\r\nexport function positionContextMenu(contextMenu, x, y) {\r\n    const i = contextMenu.style;\r\n    i.top = `${y + 20}px`;\r\n    i.left = `${x - 40}px`;\r\n    i.visibility = \"visible\";\r\n    i.opacity = \"1\";\r\n}\r\n\r\nexport function handleContextMenuOptions(option, data) {\r\n\r\n    remarkGlobalData[\"currentXPath\"] = data[\"xpath\"];\r\n    remarkGlobalData[\"currentNode\"] = data[\"node\"];\r\n\r\n    switch (option) {\r\n        case \"open\":\r\n            renderSideBar(data[\"xpath\"]);\r\n            break;\r\n        case \"create\":\r\n            if(isAdmin()) {\r\n                renderNewAnnotationModal(data[\"node\"], data[\"tag\"], data[\"className\"].replace(\"highlight_element_light\", \"\"), data[\"id\"], data[\"textContent\"]);\r\n            } else {\r\n                showAlert(\"INTIMATION\", \"Create annotation option is for admins only !\", 2)\r\n            }\r\n            break;\r\n        case \"edit\":\r\n            if(isAdmin()) {\r\n                renderEditAnnotationModal(data[\"node\"], data[\"tag\"], data[\"id\"], data[\"textContent\"]);\r\n            } else {\r\n                showAlert(\"INTIMATION\", \"Edit annotation option is for admins only !\", 2)   \r\n            }\r\n            break;\r\n        case \"delete\":\r\n            if(isAdmin()) {\r\n                renderDeleteAnnotationModal(data[\"node\"], data[\"tag\"], data[\"id\"], data[\"textContent\"]);\r\n            } else {\r\n                showAlert(\"INTIMATION\", \"Delete annotation option is for admins only !\", 2)       \r\n            }\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}","import { handleCreateAnnotation, handleCloseModal } from \"./handlers\"\r\n\r\nexport const LOGIN_MARKUP =\r\n    `\r\n    <div class=\"remark_standard_modal\" id=\"remark_login_modal\">\r\n        <div class=\"remark_standard_modal_header\">\r\n            <h3 class=\"remark_standard_modal_title\">Login</h3>\r\n            <div class=\"remark_standard_modal_actions\">\r\n                <div class=\"remark_standard_modal_close_btn\">\r\n                    <ion-icon name=\"close-outline\" id=\"remark_standard_modal_close_btn\" role=\"img\" class=\"md hydrated\" aria-label=\"close outline\"></ion-icon>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"remark_standard_modal_body\">\r\n            <form id=\"loginForm\" class=\"remark_form\">\r\n                <div class=\"remark_form_fields\">\r\n                    <label for=\"username\" class=\"remark_form_label\">Username</label>\r\n                    <input type=\"text\" name=\"username\" class=\"remark_form_input\" id=\"username\">\r\n                </div>\r\n                <div class=\"remark_form_fields\">\r\n                    <label for=\"password\" class=\"remark_form_label\">Password </label>\r\n                    <input type=\"password\" name=\"password\" class=\"remark_form_input\" id=\"password\">\r\n                </div>\r\n                <div class=\"remark_form_fields\">\r\n                    <label for=\"authority\" class=\"remark_form_label\">Authority</label>\r\n                    <input type=\"authority\" name=\"authority\" class=\"remark_form_input\" id=\"authority\">\r\n                </div>\r\n                <div class=\"remark_form_fields\">\r\n                    <button type=\"button\" class=\"remark_standard_button\" id=\"remark_login_button\">Login</button>\r\n                </div>\r\n                <div class=\"remark_form_fields\">\r\n                <p>Don't have an account ? <span class=\"loginSignupSwitch\" onclick=\"handleLoginSignupSwitch(remark_login_modal)\">Sign up</span></p>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n`\r\n\r\nexport const SIGNUP_MARKUP =\r\n    `    \r\n    <div class=\"remark_standard_modal\" id=\"remark_signup_modal\">\r\n        <div class=\"remark_standard_modal_header\">\r\n            <h3 class=\"remark_standard_modal_title\">Signup</h3>\r\n            <div class=\"remark_standard_modal_actions\">\r\n                <div class=\"remark_standard_modal_close_btn\">\r\n                    <ion-icon name=\"close-outline\" id=\"remark_standard_modal_close_btn\" role=\"img\" class=\"md hydrated\" aria-label=\"close outline\"></ion-icon>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"remark_standard_modal_body\">\r\n            <form id=\"signupForm\" class=\"remark_form\">\r\n                <div class=\"remark_form_fields\">\r\n                    <label for=\"username\" class=\"remark_form_label\">Username</label>\r\n                    <input type=\"text\" name=\"username\" class=\"remark_form_input\" id=\"username\">\r\n                </div>\r\n                <div class=\"remark_form_fields\">\r\n                    <label for=\"password\" class=\"remark_form_label\">Password </label>\r\n                    <input type=\"password\" name=\"password\" class=\"remark_form_input\" id=\"password\">\r\n                </div>\r\n                <div class=\"remark_form_fields\">\r\n                    <label for=\"email_id\" class=\"remark_form_label\">Email ID</label>\r\n                    <input type=\"email\" name=\"email_id\" class=\"remark_form_input\" id=\"email_id\">\r\n                </div>\r\n                <div class=\"remark_form_fields\">\r\n                    <label for=\"bio\" class=\"remark_form_label\">Bio</label>\r\n                    <input name=\"bio\" class=\"remark_form_input\" id=\"bio\">\r\n                </div>\r\n                <div class=\"remark_form_fields\">\r\n                    <button type=\"button\" class=\"remark_standard_button\" onclick=\"handleSignupUser(event, signupForm)\">Sign Up</button>\r\n                </div>\r\n                <div class=\"remark_form_fields\">\r\n                <p>Already have an account ? <span class=\"loginSignupSwitch\" onclick=\"handleLoginSignupSwitch(remark_signup_modal)\">Login</span></p>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n`\r\n\r\nexport const CONTEXT_MENU_MARKUP = (annotation_present) => {\r\n\r\n    let markup = \"\"\r\n    if (annotation_present) {\r\n        markup =\r\n            `\r\n            <div class=\"remark_contextmenu_wrapper\" id=\"remark_context_menu\">\r\n                <div class=\"remark_contextmenu_content\">\r\n                    <ul class=\"remark_contextmenu_menu_list\">\r\n                        <li class=\"remark_item\">\r\n                            <ion-icon name=\"open-outline\" class=\"uil uil remark_contextmenu_icon\"></ion-icon>\r\n                            <span class=\"remark_context_menu_item_name\" data-remark_contextmenu_option=\"open\">Open Annotation</span>\r\n                        </li>\r\n                        <li class=\"remark_item\">\r\n                            <ion-icon name=\"options-outline\" class=\"uil uil remark_contextmenu_icon\"></ion-icon>\r\n                            <span class=\"remark_context_menu_item_name\" data-remark_contextmenu_option=\"edit\">Edit Annotation</span>\r\n                        </li>\r\n                        <li class=\"remark_item\">\r\n                            <ion-icon name=\"trash-outline\" class=\"uil uil remark_contextmenu_icon\"></ion-icon>\r\n                            <span class=\"remark_context_menu_item_name\" data-remark_contextmenu_option=\"delete\">Delete Annotation</span>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        `\r\n    } else {\r\n        markup =\r\n            `\r\n            <div class=\"remark_contextmenu_wrapper\" id=\"remark_context_menu\">\r\n                <div class=\"remark_contextmenu_content\">\r\n                    <ul class=\"remark_contextmenu_menu_list\">\r\n                        <li class=\"remark_item\">\r\n                            <ion-icon name=\"add-outline\" class=\"uil uil remark_contextmenu_icon\"></ion-icon>\r\n                            <span class=\"remark_context_menu_item_name\" data-remark_contextmenu_option=\"create\">Create Annotation</span>\r\n                        </li>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        `\r\n\r\n    }\r\n    return markup;\r\n}\r\n\r\nexport const CREATE_ANNOTATION_MODAL = (node_xpath, html_tag, html_class, html_id, html_text_content) => {\r\n    const authority = localStorage.getItem(\"user_authority\");\r\n    if (authority != \"admin\") {\r\n        return;\r\n    }\r\n    if (html_class == \"\") {\r\n        html_class = null;\r\n    }\r\n\r\n    if (html_id == \"\") {\r\n        html_id = null;\r\n    }\r\n    if (html_text_content == \"\") {\r\n        html_text_content = null;\r\n    }\r\n\r\n    const markup =\r\n        `\r\n        <div class=\"remark_standard_modal\" id=\"remark_create_annotation_modal\">\r\n            <div class=\"remark_standard_modal_header\">\r\n                <h3 class=\"remark_standard_modal_title\">Create Annotation</h3>\r\n                <div class=\"remark_standard_modal_actions\">\r\n                    <div class=\"remark_standard_modal_close_btn\">\r\n                        <ion-icon name=\"close-outline\" id=\"remark_standard_modal_close_btn\"></ion-icon>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"remark_standard_modal_body\">\r\n                <form id=\"createAnnotationForm\" class=\"remark_form\">\r\n                    <div class=\"remark_form_fields\">\r\n                        <label for=\"annotation_name\" class=\"remark_form_label\">Annotation Name</label>\r\n                        <input type=\"text\" name=\"annotation_name\" class=\"remark_form_input\" id=\"annotation_name\">\r\n                    </div>\r\n                    <div class=\"remark_form_fields\">\r\n                        <label for=\"tags\" class=\"remark_form_label\">Tags ( Comma Separated )</label>\r\n                        <input type=\"tags\" name=\"tags\" class=\"remark_form_input\" id=\"tags\">\r\n                    </div>\r\n                    <div class=\"remark_form_fields hide\">\r\n                        <label for=\"node_xpath\" class=\"remark_form_label\">Node XPath</label>\r\n                        <input type=\"node_xpath\" name=\"node_xpath\" class=\"remark_form_input\" id=\"node_xpath\" value='${node_xpath}' readonly>\r\n                    </div>\r\n                    <div class=\"remark_form_fields hide\">\r\n                        <label for=\"html_tag\" class=\"remark_form_label\">Selected Node</label>\r\n                        <input type=\"text\" name=\"html_tag\" class=\"remark_form_input\" id=\"html_tag\" value=\"${html_tag.toLowerCase()}\" readonly>\r\n                    <div class=\"remark_form_fields hide\">\r\n                        <label for=\"html_class\" class=\"remark_form_label\">HTML Node Class</label>\r\n                        <input type=\"html_class\" name=\"html_class\" class=\"remark_form_input\" id=\"html_class\" value=\"${html_class}\" readonly>\r\n                    </div>\r\n                    <div class=\"remark_form_fields hide\">\r\n                        <label for=\"html_id\" class=\"remark_form_label\">HTML Node ID</label>\r\n                        <input type=\"html_id\" name=\"html_id\" class=\"remark_form_input\" id=\"html_id\" value=\"${html_id}\" readonly>\r\n                    </div>\r\n                    </div>\r\n                        <div class=\"remark_form_fields hide\">\r\n                        <label for=\"html_text_content\" class=\"remark_form_label\">HTML Text Content </label>\r\n                        <input type=\"html_text_content\" name=\"html_text_content\" class=\"remark_form_input\" id=\"html_text_content\" value=\"${html_text_content}\" readonly>\r\n                    </div>\r\n                    <div class=\"remark_form_fields\">\r\n                        <button class=\"remark_standard_button\" type=\"button\" id=\"remark_create_annotation_button\">Create</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    `\r\n    return markup;\r\n}\r\n\r\nexport const EDIT_ANNOTATION_MODAL = (node_xpath) => {\r\n    const authority = localStorage.getItem(\"user_authority\");\r\n    if (authority != \"admin\") {\r\n        return;\r\n    }\r\n\r\n    const annotations = remarkGlobalData[\"annotations\"];\r\n\r\n    let curAnnotation;\r\n\r\n    annotations.forEach((annotation) => {\r\n        if (annotation[\"node_xpath\"] == node_xpath) {\r\n            curAnnotation = annotation;\r\n        }\r\n    });\r\n\r\n    const markup =\r\n        `\r\n        <div class=\"remark_standard_modal\" id=\"remark_edit_annotation_modal\">\r\n            <div class=\"remark_standard_modal_header\">\r\n                <h3 class=\"remark_standard_modal_title\">Edit Annotation</h3>\r\n                <div class=\"remark_standard_modal_actions\">\r\n                    <div class=\"remark_standard_modal_close_btn\">\r\n                        <ion-icon name=\"close-outline\" id=\"remark_standard_modal_close_btn\" onclick=\"handleCloseModal(remark_edit_annotation_modal)\"></ion-icon>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"remark_standard_modal_body\">\r\n                <form id=\"editAnnotationForm\" class=\"remark_form\" data-annotation_id=\"${curAnnotation[\"annotation_id\"]}\">\r\n                    <div class=\"remark_form_fields\">\r\n                        <label for=\"old_name\" class=\"remark_form_label\">Old Annotation Name</label>\r\n                        <input type=\"text\" name=\"old_name\" class=\"remark_form_input\" id=\"old_name\" value=\"${curAnnotation[\"annotation_name\"]}\" readonly disabled>\r\n                    </div>\r\n                    <div class=\"remark_form_fields\">\r\n                        <label for=\"new_name\" class=\"remark_form_label\">New Annotation Name</label>\r\n                        <input type=\"text\" name=\"new_name\" class=\"remark_form_input\" id=\"new_name\">\r\n                    </div>\r\n                    <div class=\"remark_form_fields\">\r\n                        <label for=\"old_tags\" class=\"remark_form_label\">Old Tags ( Comma Separated )</label>\r\n                        <input type=\"text\" name=\"old_tags\" class=\"remark_form_input\" id=\"old_tags\" value=\"${curAnnotation[\"tags\"]}\" readonly disabled>\r\n                    </div>\r\n                    <div class=\"remark_form_fields\">\r\n                        <label for=\"new_tags\" class=\"remark_form_label\">New Tags ( Comma Separated )</label>\r\n                        <input type=\"text\" name=\"new_tags\" class=\"remark_form_input\" id=\"new_tags\">\r\n                    </div>\r\n                    <div class=\"remark_form_fields\">\r\n                        <label for=\"annotation_id\" class=\"remark_form_label</label>\r\n                        <input type=\"text\" name=\"annotation_id\" class=\"remark_form_input\" value=${curAnnotation[\"annotation_id\"]} readonly>\r\n                    </div>\r\n                    <div class=\"remark_form_fields\">\r\n                        <button name=\"submit\"  class=\"remark_standard_button\" onclick=\"handleEditAnnotation(editAnnotationForm, event)\">Edit</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    `\r\n    return markup;\r\n}\r\n\r\nexport const DELETE_ANNOTATION_MODAL = (node_xpath) => {\r\n    const authority = localStorage.getItem(\"user_authority\");\r\n    if (authority != \"admin\") {\r\n        return;\r\n    }\r\n\r\n    const annotations = remarkGlobalData[\"annotations\"];\r\n\r\n    let curAnnotation;\r\n\r\n    annotations.forEach((annotation) => {\r\n        if (annotation[\"node_xpath\"] == node_xpath) {\r\n            curAnnotation = annotation;\r\n        }\r\n    });\r\n\r\n    const markup =\r\n        `\r\n        <div class=\"remark_standard_modal\" id=\"remark_delete_annotation_modal\">\r\n            <div class=\"remark_standard_modal_header\">\r\n                <h3 class=\"remark_standard_modal_title\">Delete Annotation</h3>\r\n                <div class=\"remark_standard_modal_actions\">\r\n                    <div class=\"remark_standard_modal_close_btn\">\r\n                        <ion-icon name=\"close-outline\" id=\"remark_standard_modal_close_btn\" onclick=\"handleCloseModal(remark_delete_annotation_modal)\"></ion-icon>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"remark_standard_modal_body\">\r\n                <form id=\"deleteAnnotationForm\" class=\"remark_form\" data-annotation_id=\"${curAnnotation[\"annotation_id\"]}\" data-annotation_name=\"${curAnnotation[\"annotation_name\"]}\" data-xpath='${node_xpath}' data-html_tag=${curAnnotation[\"html_tag\"]} data-html_text_content=\"${curAnnotation[\"html_text_content\"]}\">\r\n                    <div class=\"remark_form_fields\">\r\n                        <p style=\"font-size: 1.4rem;\"> Are you sure you want to delete this annotation ? <span class=\"remark_\" style=\"font-weight: 700;\">This can not be undone.</span> \r\n                        Enter the annotation name to confirm : <span class=\"remark_\" style=\"font-weight: 700;\">${curAnnotation[\"annotation_name\"]}</span>\r\n                        \r\n                        <input type=\"text\" name=\"deleteConfirmation\" class=\"remark_form_input\" id=\"deleteConfirmation\">\r\n                    </div>\r\n                    <div class=\"remark_form_fields\">\r\n                        <button name=\"submit\"  class=\"remark_standard_button remark_delete_button\" onclick=\"handleDeleteAnnotation(deleteAnnotationForm, event)\">Delete</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    `\r\n    return markup;\r\n}\r\n\r\nexport const SIDEBAR = (xpath) => {\r\n\r\n    const annotations = remarkGlobalData[\"annotations\"];\r\n    remarkGlobalData[\"currentXPath\"] = xpath;\r\n\r\n    let curAnnotation;\r\n\r\n    annotations.forEach((annotation) => {\r\n        if (annotation[\"node_xpath\"] == xpath) {\r\n            curAnnotation = annotation;\r\n        }\r\n    });\r\n\r\n    const annotation_name = curAnnotation[\"annotation_name\"];\r\n    const annotation_id = curAnnotation[\"annotation_id\"];\r\n    const comments = curAnnotation[\"comments\"];\r\n    const resolved = curAnnotation[\"resolved\"];\r\n\r\n    let comment_markup = \"\"\r\n    let resolve_button_text = \"\"\r\n    let c = \"\"\r\n\r\n    if(resolved) {\r\n        resolve_button_text = \"Unresolve\";\r\n        c = \"remark_unresolve_button\";\r\n    } else {\r\n        resolve_button_text = \"Resolve\";\r\n    }\r\n\r\n    comments.forEach((comment) => {\r\n        const m = COMMENTS_MARKUP(comment);\r\n        comment_markup += m;\r\n    });\r\n\r\n    const markup =\r\n        `\r\n        <div class=\"remark_standard_sidebar\" id=\"remark_annotations_sidebar\">\r\n        <div class=\"remark_standard_modal_header\">\r\n            <h3 class=\"remark_standard_modal_title\">${annotation_name}</h3>\r\n            <div class=\"remark_standard_modal_actions\">\r\n                <button class=\"remark_standard_button remark_resolve_button ${c}\" data-annotation_id=\"${annotation_id}\" onclick=\"handleResolveAnnotation(this, event)\" id=\"remark_annotation_resolve_button\">\r\n                    ${resolve_button_text}\r\n                </button>\r\n                <div class=\"remark_standard_modal_close_btn\">\r\n                    <ion-icon name=\"close-outline\" id=\"remark_standard_modal_close_btn\" onclick=\"handleCloseModal(remark_annotations_sidebar)\"></ion-icon>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"remark_standard_modal_body remark_standard_sidebar_body\" id=\"remark_comments_body\">\r\n            ${comment_markup}\r\n        </div>\r\n        <div class=\"remark_annotation_user_input\">\r\n            <textarea placeholder=\"Text input\" id=\"remark_comment_input\" data-annotation_id=${annotation_id}></textarea>\r\n            <span id=\"content_input_submit\">\r\n                <ion-icon name=\"paper-plane-outline\" class=\"remark_\" onclick=\"handleCreateComment(remark_comment_input)\"></ion-icon>\r\n            </span>\r\n        </div>\r\n    </div>\r\n    `\r\n\r\n    return markup;\r\n\r\n}\r\n\r\nexport const COMMENTS_MARKUP = (comment) => {\r\n    let d;\r\n    if (comment[\"updated_at\"]) {\r\n        d = comment[\"updated_at\"];\r\n    } else {\r\n        d = comment[\"created_at\"]\r\n    }\r\n    let content_id = `${comment[\"comment_id\"]}message`;\r\n    let upvotes_id = `${comment[\"comment_id\"]}upvotes`;\r\n    let downvotes_id = `${comment[\"comment_id\"]}downvotes`;\r\n\r\n    const markup =\r\n        `\r\n        <div class=\"remark_annotation\" id=\"${comment[\"comment_id\"]}\">\r\n            <div class=\"remark_annotation_header\">\r\n                <div class=\"remark_annotation_user_profile\">\r\n                    <div class=\"remark_annotation_user_details\">\r\n                        <h4 class=\"remark_annotation_user_username\">\r\n                            ${comment[\"created_by\"]}\r\n                        </h4>\r\n                        <span class=\"remark_annotation_user_last_modified\">\r\n                            Modified On : ${d}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"remark_comment_actions\">\r\n                    <ion-icon name=\"create-outline\" data-comment_id=\"${comment[\"comment_id\"]}\" onclick=\"handleEditComment(this, event)\"></ion-icon>\r\n                    <ion-icon name=\"trash-outline\" id=\"${comment[\"comment_id\"]}\" onclick=\"handleDeleteComment(this.id)\"></ion-icon>\r\n                </div>\r\n            </div>\r\n            <div class=\"remark_annotation_user_message\">\r\n                <p id=\"${content_id}\">${comment[\"content\"]}</p>\r\n            </div>\r\n            <div class=\"remark_annotation_vote\">\r\n                <span class=\"remark_annotation_vote_option\">\r\n                    <p id=\"${upvotes_id}\">${comment[\"upvotes\"]}</p>\r\n                    <ion-icon name=\"arrow-up-outline\" onclick=\"handleCommentUpvote(this, event)\" data-comment_id=\"${comment[\"comment_id\"]}\" data-action_type=\"upvote\"></ion-icon>\r\n                </span>\r\n                <span class=\"remark_annotation_vote_option\">\r\n                    <p id=\"${downvotes_id}\">${comment[\"downvotes\"]}</p>\r\n                    <ion-icon name=\"arrow-down-outline\" onclick=\"handleCommentUpvote(this, event)\"data-comment_id=\"${comment[\"comment_id\"]}\" data-action_type=\"downvote\"></ion-icon>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    `\r\n\r\n    return markup;\r\n}","import { createAnnotation, editAnnotation, deleteAnnotation } from \"./annotationAPI\";\r\nimport { createComment, editComment, deleteComment, updateCommentVote } from \"./commentAPI\";\r\nimport { loginUser, signupUser } from \"./auth\";\r\n\r\nimport { renderLoginModal, renderSignupModal } from \"./render\";\r\nimport { removeHTMLElement, validateForm } from \"./utils\";\r\nimport { remarkGlobalData } from \"./global\";\r\n\r\n//+ ANNOTATION HANDLERS\r\n\r\nexport function handleCreateAnnotation(formElement) {\r\n    let form = new FormData(formElement);\r\n    let data = {}\r\n    const user_id = localStorage.getItem(\"user_id\");\r\n    const user_name = localStorage.getItem(\"user_name\");\r\n    for (var pair of form.entries()) {\r\n        if (pair[0] == \"annotation_name\" || pair[0] == \"tags\") {\r\n            if (!pair[1].match(/^[0-9a-zA-Z,_ ]+$/)) {\r\n                showAlert(\"ERROR\", \"Only alphanumeric values and comma are allowed !\")\r\n                return;\r\n            }\r\n        }\r\n        data[pair[0]] = pair[1].trim();\r\n    }\r\n    data[\"website_uri\"] = window.location.href;\r\n    data[\"user_id\"] = user_id;\r\n    data[\"user_name\"] = user_name;\r\n    data[\"website_id\"] = remarkGlobalData[\"website_id\"];\r\n    createAnnotation(data);\r\n}\r\n\r\nexport function handleResolveAnnotation(ele, event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    const annotation_id = ele.dataset.annotation_id;\r\n\r\n    let data = {}\r\n    data[\"annotation_id\"] = annotation_id;\r\n    data[\"action_type\"] = \"edit_resolved\";\r\n    data[\"new_resolved\"] = \"\";\r\n\r\n    editAnnotation(data);\r\n\r\n}\r\n\r\nexport function handleEditAnnotation(formElement, event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    let form = new FormData(formElement);\r\n    const annotation_id = formElement.dataset.annotation_id;\r\n    let data = {}\r\n    for (var pair of form.entries()) {\r\n        //* TODO : Validation\r\n        // if (pair[0] == \"new_name\" || pair[0] == \"new_tags\") {\r\n        // if (!pair[1].match(/^[0-9a-zA-Z,_ ]+$/)) {\r\n        // console.log(\"Only alphanumeric values and comma are allowed !\", pair[0], pair[1]);\r\n        // return;\r\n        // }\r\n        // }\r\n        data[pair[0]] = pair[1].trim();\r\n    }\r\n    let actions = [];\r\n    if (data[\"new_annotation\"] != \"\") {\r\n        actions.push(\"edit_name\");\r\n    }\r\n    if (data[\"new_tags\"] != \"\") {\r\n        actions.push(\"edit_tags\");\r\n    }\r\n    actions = actions.join(\",\");\r\n    data[\"action_type\"] = actions;\r\n    data[\"annotation_id\"] = annotation_id;\r\n    editAnnotation(data);\r\n}\r\n\r\nexport function handleDeleteAnnotation(formElement, event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    console.log(formElement);\r\n    let form = new FormData(formElement);\r\n    let data = {}\r\n    for (var pair of form.entries()) {\r\n        data[pair[0]] = pair[1].trim();\r\n    }\r\n    if (formElement.dataset.annotation_name == data[\"deleteConfirmation\"]) {\r\n        const annotation_id = formElement.dataset.annotation_id;\r\n        const xpath = formElement.dataset.xpath;\r\n        const html_id = formElement.dataset.html_id;\r\n        const html_tag = formElement.dataset.html_tag;\r\n        const html_text_content = formElement.dataset.html_text_content;\r\n        if (annotation_id && xpath) {\r\n            data[\"annotation_id\"] = annotation_id;\r\n            data[\"node_xpath\"] = xpath;\r\n            data[\"html_id\"] = html_id;\r\n            data[\"html_tag\"] = html_tag;\r\n            data[\"html_text_content\"] = html_text_content;\r\n            deleteAnnotation(data);\r\n        }\r\n    } else {\r\n        showAlert(\"ERROR\", \"Annotation names don't match !\")\r\n        return;\r\n    }\r\n}\r\n\r\n//+ COMMENT HANDLERS\r\n\r\nexport function handleCreateComment() {\r\n    let data = {}\r\n    const user_id = localStorage.getItem(\"user_id\");\r\n    const user_name = localStorage.getItem(\"user_name\");\r\n    const textarea = document.getElementById(\"remark_comment_input\");\r\n    const text = textarea.value;\r\n    data[\"content\"] = text;\r\n    data[\"content_html\"] = \"\";\r\n    data[\"annotation_id\"] = textarea.dataset.annotation_id;\r\n    data[\"user_id\"] = user_id;\r\n    data[\"user_name\"] = user_name;\r\n    data[\"parent_node\"] = null;\r\n    textarea.value = \"\";\r\n    createComment(data);\r\n}\r\n\r\nexport function handleEditComment(ele, event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    const user_id = localStorage.getItem(\"user_id\");\r\n    const comment_id = ele.dataset.comment_id;\r\n    const content_id = `${comment_id}message`;\r\n\r\n    let contentEle = document.getElementById(`${content_id}`);\r\n    contentEle.contentEditable = true;\r\n\r\n    let data = {}\r\n    data[\"user_id\"] = user_id;\r\n    data[\"comment_id\"] = comment_id;\r\n\r\n    showAlert(\"INTIMATION\", \"Please use Ctrl + Enter to submit the edited comment\", 2)\r\n\r\n    setTimeout(function() {\r\n        contentEle.focus();\r\n        contentEle.style.padding = \"1rem\";\r\n    }, 0);\r\n\r\n    contentEle.addEventListener(\"keydown\", (e) => {\r\n        if (e.ctrlKey && e.key === \"Enter\") {\r\n            console.log(\"EDITING COMMENT\");\r\n            contentEle.blur();\r\n            let new_content = contentEle.textContent.trim();\r\n            data[\"new_content\"] = new_content;\r\n            data[\"new_content_html\"] = \"\";\r\n            editComment(data);\r\n        }\r\n    })\r\n\r\n}\r\n\r\nexport function handleDeleteComment(comment_id) {\r\n    // - ARE YOU SURE ? MODAL NEEDS TO BE ADDED FOR CONFIRMATION\r\n    deleteComment(comment_id);\r\n}\r\n\r\nexport function handleCommentUpvote(ele, event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const user_id = localStorage.getItem(\"user_id\");\r\n    let data = {}\r\n    data[\"user_id\"] = user_id;\r\n    data[\"comment_id\"] = ele.dataset.comment_id;\r\n    data[\"action_type\"] = ele.dataset.action_type\r\n    updateCommentVote(data);\r\n}\r\n\r\nexport function handleLoginSignupSwitch(component) {\r\n    if (component) {\r\n        if (component.id == \"remark_login_modal\") {\r\n            removeHTMLElement(component);\r\n            renderSignupModal();\r\n        } else {\r\n            removeHTMLElement(component);\r\n            renderLoginModal();\r\n        }\r\n    }\r\n}\r\n\r\n//+ AUTH HANDLERS\r\n\r\nexport function handleLoginUser(e, formElement) {\r\n    e.preventDefault();\r\n    loginUser(formElement);\r\n}\r\n\r\nexport function handleSignupUser(e, formElement) {\r\n    e.preventDefault();\r\n    signupUser(formElement);\r\n}\r\n\r\n//+ OTHER HANDLERS\r\n\r\nexport function handleCloseModal(ele) {\r\n    removeHTMLElement(ele);\r\n}","import { remarkGlobalData } from \"./global\";\r\nimport { BASE_API_URL } from \"./constants\";\r\nimport { getElementAfterCheck, removeHTMLElement } from \"./utils\";\r\nimport { showAlert } from \"./alert\"; \r\n\r\n\r\nexport async function getAnnotationByWebsiteID() {\r\n    const url = `${BASE_API_URL}/api/annotation/all/${website_id}`;\r\n    const api_key = remarkGlobalData[\"api_key\"];\r\n    const res = await fetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n            'API_KEY': `${api_key}`,\r\n            'Access-Control-Allow-Origin': '*',\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n    })\r\n    const data = await res.json();\r\n    remarkGlobalData[\"annotations\"] = data;\r\n    return data;\r\n}\r\n\r\nexport async function createAnnotation(bodyData) {\r\n    console.log(bodyData);\r\n    const url = `${BASE_API_URL}/api/annotation`;\r\n    const api_key = remarkGlobalData[\"api_key\"];\r\n    const auth_token = localStorage.getItem(\"user_access_token\");\r\n    const res = await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n            'API_KEY': `${api_key}`,\r\n            'Access-Control-Allow-Origin': '*',\r\n            'Authorization': `Bearer ${auth_token}`,\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(bodyData)\r\n    })\r\n    const data = await res.json();\r\n    if (data.status == 201) {\r\n        const create_modal_check = document.getElementById(\"remark_create_annotation_modal\");\r\n        if (create_modal_check) {\r\n            removeHTMLElement(create_modal_check)\r\n        }\r\n        const ele = getElementAfterCheck(bodyData[\"node_xpath\"], bodyData[\"html_id\"], bodyData[\"html_tag\"], bodyData[\"html_text_content\"]);\r\n        ele.classList.add(\"highlight_element_strong\");\r\n        showAlert(\"SUCCESS\", \"Annotation created successfully !\")\r\n    }\r\n    getAnnotationByWebsiteID();\r\n    return data;\r\n}\r\n\r\nexport async function editAnnotation(bodyData) {\r\n    const annotation_id = bodyData[\"annotation_id\"];\r\n    const url = `${BASE_API_URL}/api/annotation/${annotation_id}`;\r\n    const api_key = remarkGlobalData[\"api_key\"];\r\n    const auth_token = localStorage.getItem(\"user_access_token\");\r\n    const res = await fetch(url, {\r\n        method: 'PUT',\r\n        headers: {\r\n            'API_KEY': `${api_key}`,\r\n            'Access-Control-Allow-Origin': '*',\r\n            'Authorization': `Bearer ${auth_token}`,\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(bodyData)\r\n    })\r\n    const data = await res.json();\r\n    if (data) {\r\n        showAlert(\"SUCCESS\", data[\"message\"]);\r\n        if(data[\"message\"] == \"Annotation resolved successfully !\") {\r\n            const resolve_btn = document.getElementById(\"remark_annotation_resolve_button\");\r\n            resolve_btn.classList.add(\"remark_unresolve_button\")\r\n            resolve_btn.innerText = \"Unresolve\";\r\n            \r\n        } else if(data[\"message\"] == \"Annotation unresolved successfully !\") {\r\n            const resolve_btn = document.getElementById(\"remark_annotation_resolve_button\");\r\n            resolve_btn.classList.remove(\"remark_unresolve_button\")\r\n            resolve_btn.innerText = \"Resolve\";\r\n        }\r\n    }\r\n    const edit_modal_check = document.getElementById(\"remark_edit_annotation_modal\");\r\n    if (edit_modal_check) {\r\n        removeHTMLElement(edit_modal_check)\r\n    }\r\n    getAnnotationByWebsiteID();\r\n    return data;\r\n}\r\n\r\nexport async function deleteAnnotation(bodyData) {\r\n    const url = `${BASE_API_URL}/api/annotation/${bodyData[\"annotation_id\"]}`;\r\n    console.log(bodyData);\r\n    const api_key = remarkGlobalData[\"api_key\"];\r\n    const auth_token = localStorage.getItem(\"user_access_token\");\r\n    const res = await fetch(url, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'API_KEY': `${api_key}`,\r\n            'Access-Control-Allow-Origin': '*',\r\n            'Authorization': `Bearer ${auth_token}`,\r\n            'Content-Type': 'application/json'\r\n        },\r\n    })\r\n    const data = await res.json();\r\n    if (data.status == 200) {\r\n        const delete_modal_check = document.getElementById(\"remark_delete_annotation_modal\");\r\n        if (delete_modal_check) {\r\n            removeHTMLElement(delete_modal_check);\r\n        }\r\n        const ele = getElementAfterCheck(bodyData[\"node_xpath\"], bodyData[\"html_id\"], bodyData[\"html_tag\"], bodyData[\"html_text_content\"]);\r\n        ele.classList.remove(\"highlight_element_strong\");\r\n        showAlert(\"SUCCESS\", \"Annotation deleted successfully !\")\r\n    }\r\n    getAnnotationByWebsiteID();\r\n    return data;\r\n}","import { removeHTMLElement } from \"./utils\";\r\n\r\nexport const alertModal = (type, message) => {\r\n    let markup = \"\"\r\n    switch (type) {\r\n        case \"ERROR\":\r\n            markup = `\r\n                <div class=\"remark_error_container remark_error_container_error\">\r\n                    <p class=\"remark_error_text\">${message}</p>\r\n                </div>\r\n                `\r\n            break;\r\n        case \"SUCCESS\":\r\n            markup = `\r\n                <div class=\"remark_error_container remark_error_container_success\">\r\n                    <p class=\"remark_error_text\">${message}</p>\r\n                </div>\r\n            `\r\n            break\r\n        case \"INTIMATION\":\r\n            markup = `\r\n            <div class=\"remark_error_container remark_error_container_intimation\">\r\n                <p class=\"remark_error_text\">${message}</p>\r\n            </div>\r\n            `\r\n            break\r\n        default:\r\n            markup = \"\"\r\n    }\r\n    return markup;\r\n}\r\n\r\nexport function hideAlert() {\r\n    const ele = document.querySelector('.remark_error_container');\r\n    if (ele) {\r\n        removeHTMLElement(ele)\r\n    }\r\n}\r\n\r\nexport function showAlert(type, message, time = 1) {\r\n    hideAlert();\r\n    const markup = alertModal(type, message);\r\n    console.log(type, message);\r\n    document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\r\n    window.setTimeout(hideAlert, time * 1000);\r\n}","import { BASE_API_URL } from \"./constants\";\r\nimport { removeHTMLElement } from \"./utils\";\r\nimport { showAlert } from \"./alert\"; \r\n\r\n\r\nexport async function createComment(bodyData) {\r\n    const url = `${BASE_API_URL}/api/comment`;\r\n    const api_key = remarkGlobalData[\"api_key\"];\r\n    const auth_token = localStorage.getItem(\"user_access_token\");\r\n    const res = await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n            'API_KEY': `${api_key}`,\r\n            'Access-Control-Allow-Origin': '*',\r\n            'Authorization': `Bearer ${auth_token}`,\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(bodyData)\r\n    })\r\n    const data = await res.json();\r\n    if (data.status == 201) {\r\n        const comment = data.data;\r\n        const markup = COMMENTS_MARKUP(comment);\r\n        document.getElementById(\"remark_comments_body\").insertAdjacentHTML(\"beforeend\", markup);\r\n    } else {\r\n        showAlert(\"ERROR\", \"Please enter a valid comment !\")\r\n    }\r\n    return data;\r\n}\r\n\r\nexport async function editComment(bodyData) {\r\n    const url = `${BASE_API_URL}/api/comment/${bodyData[\"comment_id\"]}`;\r\n    const api_key = remarkGlobalData[\"api_key\"];\r\n    const auth_token = localStorage.getItem(\"user_access_token\");\r\n    const res = await fetch(url, {\r\n        method: 'PUT',\r\n        headers: {\r\n            'API_KEY': `${api_key}`,\r\n            'Access-Control-Allow-Origin': '*',\r\n            'Authorization': `Bearer ${auth_token}`,\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(bodyData)\r\n    })\r\n    const data = await res.json();\r\n    if (!data) {\r\n        showAlert(\"ERROR\", \"Something went wrong !\", 2)\r\n    } else {\r\n        console.log(data);\r\n        const content_id = data[\"comment_id\"] + \"message\";\r\n        const contentEle = document.getElementById(`${content_id}`);\r\n        contentEle.textContent = data[\"content\"];\r\n        showAlert(\"SUCCESS\", \"Comment edited successfully !\");\r\n        contentEle.contentEditable = false;\r\n    }\r\n    return data;\r\n}\r\n\r\nexport async function updateCommentVote(bodyData) {\r\n    const url = `${BASE_API_URL}/api/comment/vote/${bodyData[\"comment_id\"]}`;\r\n    const api_key = remarkGlobalData[\"api_key\"];\r\n    const auth_token = localStorage.getItem(\"user_access_token\");\r\n    const res = await fetch(url, {\r\n        method: 'PUT',\r\n        headers: {\r\n            'API_KEY': `${api_key}`,\r\n            'Access-Control-Allow-Origin': '*',\r\n            'Authorization': `Bearer ${auth_token}`,\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(bodyData)\r\n    })\r\n    const data = await res.json();\r\n    console.log(data);\r\n    if (data.status == 200) {   \r\n        showAlert(\"SUCCESS\", `${data[\"message\"]}`)\r\n        document.getElementById(`${bodyData[\"comment_id\"]}upvotes`).textContent = data[\"comment_upvotes\"];\r\n        document.getElementById(`${bodyData[\"comment_id\"]}downvotes`).textContent = data[\"comment_downvotes\"];\r\n    } else {\r\n        showAlert(\"ERROR\", data[\"error_message\"])\r\n    }\r\n    return data;\r\n}\r\n\r\nexport async function deleteComment(comment_id) {\r\n    const url = `${BASE_API_URL}/api/comment/${comment_id}`;\r\n    const api_key = remarkGlobalData[\"api_key\"];\r\n    const auth_token = localStorage.getItem(\"user_access_token\");\r\n    const res = await fetch(url, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'API_KEY': `${api_key}`,\r\n            'Access-Control-Allow-Origin': '*',\r\n            'Authorization': `Bearer ${auth_token}`,\r\n            'Content-Type': 'application/json'\r\n        },\r\n    })\r\n    const data = await res.json();\r\n    if (data.status == 200) {\r\n        const comment = document.getElementById(comment_id);\r\n        removeHTMLElement(comment);\r\n    } else {\r\n        showAlert(\"ERROR\", \"Something went wrong\")\r\n    }\r\n    return data;\r\n}","import { BASE_API_URL } from \"./constants\"\r\nimport { removeHTMLElement, validateForm } from \"./utils\";\r\nimport { showAlert } from \"./alert\";\r\n\r\nexport function isLoggedIn() {\r\n    const username = localStorage.getItem(\"user_name\");\r\n    const user_id = localStorage.getItem(\"user_id\");\r\n    if (username && user_id) {\r\n        return true\r\n    }\r\n    return false\r\n}\r\n\r\nexport function logout() {\r\n    localStorage.clear();\r\n}\r\n\r\nexport function loginUser(form) {\r\n    const formData = new FormData(form);\r\n    const data = {}\r\n    for (var pair of formData.entries()) {\r\n        data[pair[0]] = pair[1];\r\n    }\r\n    const res = validateForm(data);\r\n    if (res == \"OK\") {\r\n        const url = `${BASE_API_URL}/api/login`;\r\n        fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Access-Control-Allow-Origin': '*',\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data);\r\n                if (data[\"status\"] == 200) {\r\n                    localStorage.setItem(\"user_access_token\", data[\"access_token\"]);\r\n                    localStorage.setItem(\"user_id\", data[\"user_id\"]);\r\n                    localStorage.setItem(\"user_name\", data[\"user_name\"]);\r\n                    localStorage.setItem(\"user_authority\", data[\"user_authority\"]);\r\n                    const loginFormModal = document.getElementById(\"remark_login_modal\");\r\n                    if (loginFormModal) {\r\n                        removeHTMLElement(loginFormModal)\r\n                    }\r\n                } else {\r\n                    console.log(data);\r\n                    return false\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    } else {\r\n        showAlert(\"ERROR\", \"Form validation failed\")\r\n    }\r\n}\r\n\r\nexport function signupUser(form) {\r\n    const formData = new FormData(form);\r\n    const data = {}\r\n    for (var pair of formData.entries()) {\r\n        data[pair[0]] = pair[1];\r\n    }\r\n    data[\"authority\"] = \"user\"\r\n    const res = validateForm(data);\r\n    if (res == \"OK\") {\r\n        const url = `${BASE_API_URL}/api/user`;\r\n        fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Access-Control-Allow-Origin': '*',\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data);\r\n                if (data[\"status\"] == 201) {\r\n                    localStorage.setItem(\"user_access_token\", data[\"access_token\"]);\r\n                    localStorage.setItem(\"user_id\", data[\"user_id\"]);\r\n                    localStorage.setItem(\"user_name\", data[\"user_name\"]);\r\n                    localStorage.setItem(\"user_authority\", data[\"user_authority\"]);\r\n                    const signupFormModal = document.getElementById(\"remark_signup_modal\");\r\n                    if (signupFormModal) {\r\n                        removeHTMLElement(signupFormModal)\r\n                    }\r\n                } else {\r\n                    console.log(data);\r\n                    return false\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n}\r\n\r\nexport function isAdmin() {\r\n    const authority = localStorage.getItem(\"user_authority\");\r\n    if (authority == \"admin\") {\r\n        return true;\r\n    }\r\n    return false;\r\n}","import { removeHTMLElement, getNodeXpath, getElementAfterCheck } from \"./utils\"\r\n\r\nimport { SIDEBAR, LOGIN_MARKUP, SIGNUP_MARKUP, CREATE_ANNOTATION_MODAL, EDIT_ANNOTATION_MODAL } from \"./components\"\r\n\r\nimport * as handlers from \"./handlers\"\r\n\r\nimport { showAlert } from \"./alert\"\r\n\r\n/*\r\n    \r\n    1. Check with XPath\r\n    2. If that fails, check with ID\r\n    3. If that fails, check with textContent\r\n    4. If that fails, check with className + Xpath (extract the \r\n       child node number from XPath) \r\n    \r\n*/\r\n\r\nexport function renderNewAnnotationModal(html_node, html_tag, html_class, html_id, html_text_content) {\r\n    const create_modal_check = document.getElementById(\"remark_create_annotation_modal\");\r\n    if (create_modal_check) {\r\n        return;\r\n    }\r\n    const body = document.getElementsByTagName('body')[0];\r\n\r\n    let node_xpath = getNodeXpath(html_node);\r\n    node_xpath = `//${node_xpath.toLowerCase()}`\r\n\r\n    const newAnnotationModal = CREATE_ANNOTATION_MODAL(node_xpath, html_tag, html_class, html_id, html_text_content)\r\n\r\n    body.insertAdjacentHTML(\"afterbegin\", newAnnotationModal);\r\n    \r\n    let modalCloseBtn = document.getElementById(\"remark_standard_modal_close_btn\");\r\n    let submitBtn = document.getElementById(\"remark_create_annotation_button\");\r\n    \r\n    if(modalCloseBtn) {\r\n        modalCloseBtn.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            const ele = document.getElementById(\"remark_create_annotation_modal\");\r\n            removeHTMLElement(ele);\r\n        })\r\n    }\r\n    if(submitBtn) {\r\n        submitBtn.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            console.log(\"CLICKED\");\r\n            const createAnnotationForm = document.getElementById(\"createAnnotationForm\");\r\n            handlers.handleCreateAnnotation(createAnnotationForm)\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport function renderEditAnnotationModal(html_node, html_tag, html_id, html_text_content) {\r\n    const edit_modal_check = document.getElementById(\"remark_edit_annotation_modal\");\r\n    if (edit_modal_check) {\r\n        console.log(\"Edit annotation modal already present.\");\r\n        return;\r\n    }\r\n\r\n    const body = document.getElementsByTagName('body')[0];\r\n    let node_xpath = getNodeXpath(html_node);\r\n    node_xpath = `//${node_xpath.toLowerCase()}`\r\n\r\n    const ele = getElementAfterCheck(node_xpath, html_id, html_tag, html_text_content)\r\n\r\n    if (ele) {\r\n        const editAnnotationModal = EDIT_ANNOTATION_MODAL(node_xpath);\r\n        body.insertAdjacentHTML(\"afterbegin\", editAnnotationModal);\r\n    } else {\r\n        showAlert(\"ERROR\", \"Xpath not matched. Please try again !\");\r\n        return;\r\n    }\r\n}\r\n\r\nexport function renderDeleteAnnotationModal(html_node, html_tag, html_id, html_text_content) {\r\n    const delete_modal_check = document.getElementById(\"remark_edit_annotation_modal\");\r\n    if (delete_modal_check) {\r\n        return;\r\n    }\r\n\r\n    let node_xpath = getNodeXpath(html_node);\r\n    node_xpath = `//${node_xpath.toLowerCase()}`\r\n\r\n    const body = document.getElementsByTagName('body')[0];\r\n    const ele = getElementAfterCheck(node_xpath, html_id, html_tag, html_text_content)\r\n\r\n    if (ele) {\r\n        const deleteAnnotationModal = DELETE_ANNOTATION_MODAL(node_xpath);\r\n        body.insertAdjacentHTML(\"afterbegin\", deleteAnnotationModal);\r\n    } else {\r\n        showAlert(\"ERROR\", \"Xpath not matched. Please try again !\");\r\n        return;\r\n    }\r\n}\r\n\r\nexport function renderExistingAnnotations() {\r\n\r\n    const annotations = remarkGlobalData[\"annotations\"];\r\n\r\n    // Indicate the elements on which the annotations are present\r\n\r\n    annotations.forEach((annotation) => {\r\n        const ele = getElementAfterCheck(annotation[\"node_xpath\"], annotation[\"html_id\"], annotation[\"html_tag\"], annotation[\"html_text_content\"])\r\n\r\n        if (ele) {\r\n            ele.classList.add(\"highlight_element_strong\");\r\n            ele.dataset.xpath = annotation[\"node_xpath\"];\r\n        } else {\r\n            console.log(\"RE-RENDER REQUIRED : \", ele);\r\n        }\r\n    });\r\n\r\n    // 2. On show, trigger the sidebar (or modal)\r\n    // THIS WILL BE DONE USING THE CONTEXT MENU\r\n}\r\n\r\nexport function renderSideBar(xpath) {\r\n    const sideBar = SIDEBAR(xpath);\r\n    const body = document.getElementsByTagName('body')[0];\r\n    const check = document.getElementById(\"remark_annotations_sidebar\");\r\n    if (check) {\r\n        removeHTMLElement(check);\r\n    }\r\n    body.insertAdjacentHTML(\"afterbegin\", sideBar);\r\n}\r\n\r\nexport function renderLoginModal() {\r\n    const body = document.getElementsByTagName('body')[0];\r\n    body.insertAdjacentHTML(\"afterbegin\", LOGIN_MARKUP);\r\n    let modalCloseBtn = document.getElementById(\"remark_standard_modal_close_btn\")\r\n    let submitBtn = document.getElementById(\"remark_login_button\");\r\n    if(modalCloseBtn) {\r\n        modalCloseBtn.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            const ele = document.getElementById(\"remark_login_modal\");\r\n            removeHTMLElement(ele)\r\n        })\r\n    }\r\n    if(submitBtn) {\r\n        submitBtn.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            const loginForm = document.getElementById(\"loginForm\");\r\n            handlers.handleLoginUser(e, loginForm)\r\n        })\r\n    }\r\n}\r\n\r\nexport function renderSignupModal() {\r\n    const body = document.getElementsByTagName('body')[0];\r\n    body.insertAdjacentHTML(\"afterbegin\", SIGNUP_MARKUP);\r\n    let modalCloseBtn = document.getElementById(\"remark_standard_modal_close_btn\")\r\n    let submitBtn = document.getElementById(\"remark_login_button\");\r\n    if(modalCloseBtn) {\r\n        modalCloseBtn.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            const ele = document.getElementById(\"remark_login_modal\");\r\n            removeHTMLElement(ele)\r\n        })\r\n    }\r\n    if(submitBtn) {\r\n        submitBtn.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            const signupForm = document.getElementById(\"signupForm\");\r\n            handlers.handleSignupUser(e, signupForm)\r\n        })\r\n    }\r\n}","import { BASE_API_URL } from \"./constants\"\r\n\r\nexport async function verifyToken(key) {\r\n    const url = `${BASE_API_URL}/api/token/verify/${key}`;\r\n    const res = await fetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Access-Control-Allow-Origin': '*',\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n    })\r\n    const data = await res.json();\r\n    return data;\r\n}"],"names":[],"version":3,"file":"main.js.map","sourceRoot":"../"}